"use strict";typeof CodeMirror!="undefined"&&(window.CodeMirror.modeURL="/lib/codemirror/mode/%N/%N.min.js",onrender(function(n){$("textarea.CodeMirror",n).exec(function(n){var i=n.attr("_mode")||"htmlmixed",r=n.attr("_readonly")||"false",t,f,u,e;r=r==="readonly"||r==="true";t=window.CodeMirror.fromTextArea(n[0],{styleActiveLine:!0,theme:"eclipse",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,mode:i,extraKeys:{Tab:"autocomplete"},foldGutter:!0,readOnly:r,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]});f=n.attr("_height");f&&t.setSize("100%",f);u=n.attr("_load");u||(u=i.startsWith("text/x-")?"clike":i);window.CodeMirror.autoLoadMode(t,u);n.data("CodeMirror",t);i=="markdown"&&(e=n.attr("_upload"),e&&function(){var i=n.json();t.on("paste",function(n,t){var r=t.clipboardData||t.originalEvent.clipboardData,u,f,h,o,s;if(r&&r.items)for(u=0;u<r.items.length;u++)if(f=r.items[u],f.kind=="file"&&f.type.indexOf("image")!=-1){if(h=f.getAsFile(),o=new FormData,o.append("file",h),i)for(s in i)o.append(s,i[s]);return $ajax(e,o,function(t){if(t.url){var i=n.doc.getSelection();n.replaceSelection("!["+i+"]("+t.url+")")}else showMsg(t);return!0},!1),!1}})}())});$('a[data-bs-toggle="tab"]',n).on("shown.bs.tab",function(){$("textarea.CodeMirror",this.getAttribute("href")).each(function(){$(this).data("CodeMirror").refresh()})})}));