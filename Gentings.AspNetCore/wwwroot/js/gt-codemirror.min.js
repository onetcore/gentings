"use strict";typeof CodeMirror!="undefined"&&(window.CodeMirror.modeURL="/lib/codemirror/mode/%N/%N.min.js",onrender(function(n){$("textarea.CodeMirror",n).exec(function(n){var t=n.attr("_mode")||"htmlmixed",r=n.attr("_readonly")||"false",i,f,u,e;r=r==="readonly"||r==="true";i=window.CodeMirror.fromTextArea(n[0],{styleActiveLine:!0,theme:"eclipse",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,smartIndent:!0,indentUnit:4,mode:t,extraKeys:{Tab:"autocomplete"},foldGutter:!0,readOnly:r,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]});f=n.attr("_height");f&&i.setSize("100%",f);u=n.attr("_load");u||(u=t.startsWith("text/x-")?"clike":t);window.CodeMirror.autoLoadMode(i,u);n.data("CodeMirror",i);e=n.attr("_upload");e&&function(){var r=n.json();i.on("paste",function(n,i){var u=i.clipboardData||i.originalEvent.clipboardData,f,o,c,s,h;if(u&&u.items)for(f=0;f<u.items.length;f++)if(o=u.items[f],o.kind=="file"&&o.type.indexOf("image")!=-1){if(c=o.getAsFile(),s=new FormData,s.append("file",c),r)for(h in r)s.append(h,r[h]);return $ajax(e,s,function(i){if(i.url){var r=i.url,u=n.doc.getSelection();t=="markdown"?r="!["+u+"]("+i.url+")":t=="css"?r="background-image:url("+i.url+");":t=="htmlmixed"&&(r='<img src="'+i.url+'" alt="'+u+'" />');n.replaceSelection(r)}else showMsg(i);return!0},!1),!1}})}()});$('a[data-bs-toggle="tab"]',n).on("shown.bs.tab",function(){$("textarea.CodeMirror",this.getAttribute("href")).each(function(){$(this).data("CodeMirror").refresh()})})}));